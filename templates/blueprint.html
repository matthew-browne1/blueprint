<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/static/css/base.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link
      href="https://unpkg.com/gridjs/dist/theme/mermaid.min.css"
      rel="stylesheet">
    <link href="https://cdn.datatables.net/v/dt/dt-1.13.4/b-2.3.6/b-colvis-2.3.6/b-html5-2.3.6/cr-1.6.2/date-1.4.1/fc-4.2.2/fh-3.3.2/kt-2.9.0/r-2.4.1/rg-1.3.1/rr-1.3.3/sc-2.1.1/sp-2.1.2/sl-1.6.2/sr-1.2.2/datatables.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="/static/css/editor.dataTables.css">
    <script src="https://kit.fontawesome.com/bcdb575c88.js" crossorigin="anonymous"></script>
  
</head>
<body>

<nav>
    <div class="nav-left">
        <img src="/static/images/RA Logo 1.png" class="logo">
    </div>
    <div class="nav-right">
        <a href= "{{ url_for('export_data') }}" download="{{ user_id }}_Input_File.xlsx"class="button-4" id="export-data">Export Data  <i class="fa-solid fa-file-export"></i></a>
        <div class="nav-user-icon" onclick="settingsMenuToggle()">
            <img src="/static/images/User Login.png">
        </div>
    </div>

    <div class="settings-menu">
        <!-- <div id="dark-btn">
            <span></span>
        </div> -->

        <div class="settings-menu-inner">
            <div class="user-profile">
                <img src="/static/images/User Login.png">
                <div>
                  <p>{{ user_name }} logged in with session ID:</p>
                  <br>
                  <p>{{ user_id }}</p>
                    
                </div>
            </div>
            <hr>
            <!-- <div class="settings-links">
                <img src="/static/images/User Guide.png" class="settings-icon">
                <div>
                    <a href="#">User Guide</a>
                </div>
            </div>
            <div class="settings-links">
                <img src="/static/images/Feedback.png" class="settings-icon">
                <div>
                    <a href="#">Feedback</a>
                </div>
            </div> -->

            <div class="settings-links">
                <img src="/static/images/Logout.png" class="settings-icon">
                <div>
                    <a href="{{ url_for('logout')}}">Logout</a>
                </div>
            </div>

        </div>

    </div>
</nav>

<title>Blueprint</title>

<link rel="stylesheet" href="/static/css/budget_optimiser.css">
<link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<div class="all-content" id="all-content">

<div class="main-container" id="main-container">
   <div class="results-div" id="results-div">
      <!-- dynamic adding of show results button goes in this div -->
   </div>
   <div class="tab-container" id="tab-container"></div>
</div>

<div class="bottom-cont" id="button-cont">
   <i class="fa-solid fa-plus fa-2xl" id="new-tab-button"></i>
   <ol id="optimisation-tabs"></ol>
</div>
<div id="warningPopup" class="popup">
   <div class="warning-popup-content">
      <p style="font-weight: bold;">One or more of your scenarios has more than 20 variables selected. This will impact calculation time.</p>
      <br>
      <p>Would you like to continue?</p>
      <div class="warning-button-cont">
         <button id="cancelWarning" class="button-4">Cancel</button>
         <button id="continueWarning" class="button-4">Continue</button>
      </div>
   </div>
</div>
<div id="loadPopup" class="popup">
   <div class="popup-content">
      <i class="fa-solid fa-x fa-xl close-icon" id="load-popup-close"></i>
      <h2>Choose a Saved Snapshot</h2>
      <div class="saves-cont">
         <table id="load-table" class="display">
            <thead>
            <tr>
               <th>Name</th>
               <th>Table IDs</th>
            </tr>
            </thead>
            <tbody>
            <!-- Rows will be dynamically added here by DataTable -->
            </tbody>
         </table>
      </div>
      <button id="loadButtonPopup" class="button-4">Load Snapshot</button>
   </div>
</div>
<div id="savePopup" class="popup">
   <div class="popup-content">
      <i class="fa-solid fa-x fa-xl close-icon" id="save-popup-close"></i>
      <h2>Overwrite Current Saves</h2>
      <div class="saves-cont">
         <table id="saves-table" class="display">
            <thead>
            <tr>
               <th>Name</th>
               <th>Table IDs</th>
            </tr>
            </thead>
            <tbody>
            <!-- Rows will be dynamically added here by DataTable -->
            </tbody>
         </table>
      </div>
      <div class="save-button-cont">
         <button id="saveButtonPopup" class="button-4">Save New Snapshot</button>
         <button id="overwriteSave" class="button-4">Overwrite Existing Snapshot</button>
      </div>
   </div>
</div>
</div>
<div class="button-footer">
   <div class="snapshot-control-cont">
      <button id="save-list" class="button-4">Save Current Snapshot</button>
      <button id="load-list" class="button-4">Load from Saved Snapshots</button> 
   </div>
   <div class="right-buttons">
      <button id="optimise-all" class="button-4">Optimise All</button>
   </div>
</div>


<script src="https://cdn.socket.io/4.7.4/socket.io.min.js" integrity="sha384-Gr6Lu2Ajx28mzwyVR8CFkULdCU7kMlZ9UthllibdOSo6qAiN+yXNHqtgdTvFXMT4" crossorigin="anonymous"></script>
<script type="module" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.min.js"></script>
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
<script src="//cdn.datatables.net/plug-ins/1.13.6/features/pageResize/dataTables.pageResize.min.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/select/1.3.3/js/dataTables.select.js"></script>
<script src="static/js/blueprintBaseFunctions.js"></script>
<script type="module" src="static/js/budgetOpt.js"></script>
<script src="/static/js/dataTables.editor.js"></script>
<script src="/static/js/editor.dataTables.js"></script>
<script src="/static/js/sparklines.js"></script>
<!-- <script src="static/js/saveUI.js"></script> -->
<script src="/static/js/main.js"></script>
</body>
</html>